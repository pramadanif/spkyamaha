Memulai pra-pemrosesan data...
Membaca data dari: d:\APK SKRIPSI FIX\indoperkasaff.csv
Jumlah data awal: 9891 baris, 14 kolom
Kolom awal: ['Tgl FJB', 'No FJB', 'Kode Cust', 'Kode Unit Motor', 'Tahun Kendaraan', 'Kilometer', 'Jns Service', 'Kondisi_Oli', 'Kondisi_Rem', 'Bulan_Terakhir_Ganti_Oli', 'KM_Terakhir_Ganti_Oli', 'Usia_Kendaraan', 'Jumlah_Keluhan', 'KM_Per_Tahun', 'Oil_Maintenance_Score', 'Vehicle_Condition_Score', 'Usage_Intensity', 'Total_Usage_Score', 'Kondisi_Oli_Encoded', 'Kondisi_Rem_Encoded']
Jumlah data setelah seleksi fitur: 9891 baris
Jumlah data sebelum filter jenis layanan: 9891 baris
Distribusi jenis service sebelum preprocessing:
Jns Service
Repair                     5781
Rutin                      3286
Kupon Gratis I (DUA)        416
Kupon Gratis II (TIGA)      188
Kupon Gratis III (TIGA)     117
Jual Part                   103
Name: count, dtype: int64

Distribusi jenis service setelah standardisasi:
Jns Service
repair    5781
rutin     3286
other      824
Name: count, dtype: int64

Jumlah data setelah penghapusan data tidak relevan: 9067 baris
Data yang dihapus: 824 baris
Distribusi final jenis service:
Jns Service
repair    5781
rutin     3286
Name: count, dtype: int64
Data hasil preprocessing disimpan ke: d:\APK SKRIPSI FIX\indoperkasa2_clean.csv

=== TRANSFORMASI DATA KATEGORIKAL ===
Menerapkan Label Encoding pada fitur kategorikal:

  Kode Unit Motor:
    Kategori unik sebelum encoding: ['XSR 155', 'NMAX-NEO-S', 'MIO', 'FAZZIO-NEO-HY', 'X-MAX-CONNEC', 'ALL-NEW-NMAX', 'ALL-NEW-AEROX', 'MIO-M3 125', 'VIXION', 'FILANO-NEO', 'R15', 'MT-15', 'LEXI', 'FREE-GO-S']
    Hasil encoding:
      'ALL-NEW-AEROX' -> 0
      'ALL-NEW-NMAX' -> 1
      'FAZZIO-NEO-HY' -> 2
      'FILANO-NEO' -> 3
      'FREE-GO-S' -> 4
      'LEXI' -> 5
      'MIO' -> 6
      'MIO-M3 125' -> 7
      'MT-15' -> 8
      'NMAX-NEO-S' -> 9
      'R15' -> 10
      'VIXION' -> 11
      'X-MAX-CONNEC' -> 12
      'XSR 155' -> 13

  Kondisi_Oli:
    Kategori unik sebelum encoding: ['Kritis', 'Perlu Ganti', 'Baik']
    Hasil encoding:
      'Baik' -> 0
      'Kritis' -> 1
      'Perlu Ganti' -> 2

  Kondisi_Rem:
    Kategori unik sebelum encoding: ['Baik', 'Perlu Penyetelan', 'Perlu Penggantian']
    Hasil encoding:
      'Baik' -> 0
      'Perlu Penggantian' -> 1
      'Perlu Penyetelan' -> 2

Menerapkan Label Encoding pada target variable (Jns Service):
  Kategori target sebelum encoding: ['rutin', 'repair']
  Hasil encoding target:
    'repair' -> 0
    'rutin' -> 1

Transformasi data kategorikal selesai.

=== PEMBAGIAN DATASET ===
Total fitur yang digunakan: 10
Nama fitur: ['Kode Unit Motor', 'Tahun Kendaraan', 'Kilometer', 'Usia_Kendaraan', 'Kondisi_Oli', 'Kondisi_Rem', 'KM_Terakhir_Ganti_Oli', 'Bulan_Terakhir_Ganti_Oli', 'KM_Per_Tahun', 'Jumlah_Keluhan']
Dimensi data fitur (X): (9067, 10)
Dimensi data target (y): 9067

Distribusi target sebelum pembagian:
  repair (encoded: 0): 5781 data
  rutin (encoded: 1): 3286 data

Hasil pembagian dataset:
  Data Latih (Training Set): 7253 data (80.0%)
  Data Uji (Testing Set): 1814 data (20.0%)

Distribusi target pada Data Latih:
  repair: 4624 data
  rutin: 2629 data

Distribusi target pada Data Uji:
  repair: 1157 data
  rutin: 657 data

Pembagian dataset menggunakan random splitting dengan stratifikasi selesai.

Melatih model decision tree...
Melatih Decision Tree dengan 7253 sampel training...

Performa Model:
Akurasi: 0.9372

Laporan Klasifikasi:
              precision    recall  f1-score   support

           0       0.95      0.95      0.95      1157
           1       0.91      0.91      0.91       657

    accuracy                           0.94      1814
   macro avg       0.93      0.93      0.93      1814
weighted avg       0.94      0.94      0.94      1814


Matriks Konfusi:
[[1099   58]
 [  56  601]]

Tingkat Kepentingan Fitur:
                      Fitur  Tingkat_Kepentingan
9            Jumlah_Keluhan             0.922684
2                 Kilometer             0.025130
6     KM_Terakhir_Ganti_Oli             0.017073
4               Kondisi_Oli             0.011477
8              KM_Per_Tahun             0.010348
0           Kode Unit Motor             0.006634
7  Bulan_Terakhir_Ganti_Oli             0.003524
1           Tahun Kendaraan             0.002041
3            Usia_Kendaraan             0.001022
5               Kondisi_Rem             0.000066

Menyimpan model dan hasil...

Model dan data preprocessing disimpan ke: d:\APK SKRIPSI FIX\model_output
File yang disimpan:
  - model.pkl (model terlatih)
  - preprocessing.pkl (objek preprocessing)
  - preprocessed_data.pkl (data train/test dalam format pickle)
  - train.csv (data training dalam format CSV)
  - test.csv (data testing dalam format CSV)
  - performance_metrics.txt (metrik performa)
  - feature_importance.csv (kepentingan fitur)

Pra-pemrosesan dan pelatihan model selesai dengan sukses.
